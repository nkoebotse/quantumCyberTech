{"ast":null,"code":"import React,{useState}from'react';import DATA from'../data';import{Dashboard}from'./Dashboard';import{LoginPage}from'./LoginPage';import{ClientDashboard}from'./ClientDashboard';import{jsx as _jsx}from\"react/jsx-runtime\";export const Authenticate=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[notif,setNotif]=useState({message:'',style:''});const[isAdmin,setIsAdmin]=useState(false);const[client,setClient]=useState(null);const localUsers=localStorage.getItem('users');if(!localUsers){localStorage.setItem('users',JSON.stringify(DATA));}const clients=JSON.parse(localStorage.getItem('users'));const isLoginSuccess=(email,password)=>{let isFound=false;clients.forEach(user=>{if(user.email===email&&user.password===password){if(user.isAdmin){setIsAdmin(true);setClient(user);isFound=true;}else{setIsAdmin(false);setClient(user);isFound=true;}setNotif('');}});if(!isFound)setNotif({message:'Wrong username and password.',style:'danger'});return isFound;};const login=(username,password)=>{if(isLoginSuccess(username,password)){setIsLoggedIn(true);}};const logout=()=>{setIsLoggedIn(false);setIsAdmin(false);localStorage.removeItem('client');setNotif({message:'You have logged out.',style:'success'});};if(isLoggedIn){localStorage.setItem('currentUser',JSON.stringify(client));if(isAdmin){return/*#__PURE__*/_jsx(Dashboard,{users:clients,logoutHandler:logout});}else{return/*#__PURE__*/_jsx(ClientDashboard,{client:client,users:clients,setClient:setClient,logout:logout});}}else{return/*#__PURE__*/_jsx(LoginPage,{loginHandler:login,notif:notif,isLoggedIn:isLoggedIn});}};","map":{"version":3,"names":["React","useState","DATA","Dashboard","LoginPage","ClientDashboard","jsx","_jsx","Authenticate","isLoggedIn","setIsLoggedIn","notif","setNotif","message","style","isAdmin","setIsAdmin","client","setClient","localUsers","localStorage","getItem","setItem","JSON","stringify","clients","parse","isLoginSuccess","email","password","isFound","forEach","user","login","username","logout","removeItem","users","logoutHandler","loginHandler"],"sources":["/workspaces/quantumCyberTech/src/components/Authenticate.js"],"sourcesContent":["import React, {useState} from 'react';\nimport DATA from '../data';\nimport { Dashboard } from './Dashboard';\nimport { LoginPage } from './LoginPage';\nimport { ClientDashboard } from './ClientDashboard';\n\nexport const Authenticate = () => {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [notif, setNotif] = useState({message: '', style: ''});\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [client, setClient] = useState(null);\n    const localUsers = localStorage.getItem('users');\n    \n    if(!localUsers) {\n      localStorage.setItem('users', JSON.stringify(DATA));\n    }\n\n    const clients = JSON.parse(localStorage.getItem('users'));\n\n    const isLoginSuccess = (email, password) => {\n      let isFound = false;\n\n      clients.forEach(user => {\n        if(user.email === email && user.password === password) {\n          if(user.isAdmin) {\n            setIsAdmin(true);\n            setClient(user);\n            isFound = true;\n          }\n          else {\n            setIsAdmin(false);\n            setClient(user)\n            isFound = true;\n          }\n          setNotif('');\n        }\n      });\n  \n      if(!isFound) setNotif({message: 'Wrong username and password.', style: 'danger'});\n      return isFound;\n    }\n  \n    const login = (username, password) => {\n        if(isLoginSuccess(username, password)) {\n            setIsLoggedIn(true);\n        }\n    }\n  \n    const logout = () => {\n        setIsLoggedIn(false);\n        setIsAdmin(false);\n        localStorage.removeItem('client')\n        setNotif({message: 'You have logged out.', style: 'success'});\n    }\n  \n    if(isLoggedIn) {\n      localStorage.setItem('currentUser', JSON.stringify(client));\n      if(isAdmin) {\n        return <Dashboard users={clients} logoutHandler={logout} />\n      } else {\n        \n        return <ClientDashboard client={client} users={clients} setClient={setClient} logout={logout} />\n      }\n    } else {\n      return <LoginPage loginHandler={login} notif={notif} isLoggedIn={isLoggedIn} />\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}