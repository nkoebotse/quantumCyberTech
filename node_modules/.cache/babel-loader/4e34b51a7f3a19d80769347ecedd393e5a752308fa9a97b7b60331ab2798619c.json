{"ast":null,"code":"import{useState}from\"react\";import{Notif}from\"./Notif\";import{formatNumber,trim}from'./Utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const CreateAccountPage=props=>{const createRandomAccount=()=>{return Math.floor(1000000000+Math.random()*9000000000);};const[notif,setNotif]=useState({message:'Create a new client account.',style:'left'});const[initialBalance,setInitialBalance]=useState(0);const[initialAccountNumber,setInitialAccountNumber]=useState(createRandomAccount());const createNewAccount=user=>{const emptyInputs=Object.values(user).filter(input=>{return input==='';});const localUsers=props.users;let alreadyExists=false;localUsers.forEach(row=>{if(row.email===user.email){alreadyExists=true;}});if(alreadyExists){setNotif({message:'This email already exists. Try again.',style:'danger'});return false;}else if(emptyInputs.length>0){setNotif({message:'All fields are required.',style:'danger'});return false;}else{setNotif('');localUsers.unshift(user);props.setUsers(localUsers);localStorage.setItem('users',JSON.stringify(localUsers));setNotif({message:'Successfully saved.',style:'success'});return true;}};const handleCreateAccount=event=>{event.preventDefault();const user=event.target.elements;const account={email:user.email.value,password:user.password.value,fullname:user.fullname.value,type:user.accountType.value,number:user.accountNumber.value,isAdmin:false,balance:trim(user.initialBalance.value),transactions:[]};const isSaved=createNewAccount(account);if(isSaved){user.email.value='';user.password.value='';user.fullname.value='';user.accountNumber.value=setInitialAccountNumber(createRandomAccount());user.initialBalance.value=setInitialBalance(0);}};const onInitialBalance=event=>{const amount=trim(event.target.value)||0;setInitialBalance(amount);};return/*#__PURE__*/_jsx(\"section\",{id:\"main-content\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"form\",onSubmit:handleCreateAccount,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(Notif,{message:notif.message,style:notif.style}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullname\",children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"fullname\",type:\"text\",autoComplete:\"off\",name:\"fullname\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"account-number\",children:\"Account # (Randomly Generated)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"account-number\",name:\"accountNumber\",className:\"right\",value:initialAccountNumber,type:\"number\",disabled:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"balance\",children:\"Initial balance\"}),/*#__PURE__*/_jsx(\"input\",{id:\"balance\",type:\"text\",value:formatNumber(initialBalance),onChange:onInitialBalance,name:\"initialBalance\",className:\"right\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"account-type\",children:\"Account Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"accountType\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Checking Account\",children:\"Checking Account\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Savings Accounts\",children:\"Savings Account\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",name:\"email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",name:\"password\"}),/*#__PURE__*/_jsx(\"input\",{value:\"Create Account\",className:\"btn\",type:\"submit\"})]})});};","map":{"version":3,"names":["useState","Notif","formatNumber","trim","jsx","_jsx","jsxs","_jsxs","CreateAccountPage","props","createRandomAccount","Math","floor","random","notif","setNotif","message","style","initialBalance","setInitialBalance","initialAccountNumber","setInitialAccountNumber","createNewAccount","user","emptyInputs","Object","values","filter","input","localUsers","users","alreadyExists","forEach","row","email","length","unshift","setUsers","localStorage","setItem","JSON","stringify","handleCreateAccount","event","preventDefault","target","elements","account","value","password","fullname","type","accountType","number","accountNumber","isAdmin","balance","transactions","isSaved","onInitialBalance","amount","id","children","onSubmit","htmlFor","autoComplete","name","className","disabled","onChange"],"sources":["/workspaces/quantumCyberTech/src/components/CreateAccountPage.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Notif } from \"./Notif\";\nimport {formatNumber, trim} from './Utils';\n\nexport const CreateAccountPage = (props) => {\n    const createRandomAccount = () => {\n        return Math.floor(1000000000 + Math.random() * 9000000000);\n    }\n    \n    const [notif, setNotif] = useState({message: 'Create a new client account.', style: 'left'});\n    const [initialBalance, setInitialBalance] = useState(0);\n    const [initialAccountNumber, setInitialAccountNumber] = useState(createRandomAccount());\n\n    const createNewAccount = (user) => {\n\n        const emptyInputs = Object.values(user).filter(input => {\n            return input === ''\n        });\n\n        const localUsers = props.users;\n\n        let alreadyExists = false;\n        localUsers.forEach(row => {\n            if(row.email === user.email) {\n                alreadyExists = true;\n            }\n        });\n\n        if(alreadyExists) {\n            setNotif({message: 'This email already exists. Try again.', style: 'danger'});\n            return false;\n        } else if(emptyInputs.length > 0) {\n            setNotif({message: 'All fields are required.', style: 'danger'});\n            return false;\n        } else {\n            setNotif('');\n            localUsers.unshift(user);\n            props.setUsers(localUsers); \n            localStorage.setItem('users', JSON.stringify(localUsers));\n            setNotif({message: 'Successfully saved.', style: 'success'});\n            return true;\n        }\n    }\n\n    const handleCreateAccount = (event) => {\n        event.preventDefault();\n        const user = event.target.elements;\n\n        const account = {\n            email: user.email.value,\n            password: user.password.value,\n            fullname: user.fullname.value,\n            type: user.accountType.value,\n            number: user.accountNumber.value,\n            isAdmin: false,\n            balance: trim(user.initialBalance.value), \n            transactions: []\n        }\n\n        const isSaved = createNewAccount(account);\n        if(isSaved) {\n            user.email.value = '';\n            user.password.value = '';\n            user.fullname.value = ''; \n            user.accountNumber.value = setInitialAccountNumber(createRandomAccount());\n            user.initialBalance.value = setInitialBalance(0);\n        }\n    }\n\n    const onInitialBalance = event => {\n        const amount = trim(event.target.value) || 0;\n        setInitialBalance(amount);\n    }\n\n    return (\n        <section id=\"main-content\">\n            <form id=\"form\" onSubmit={handleCreateAccount}>\n                <h1>Create Account</h1>\n                <Notif message={notif.message} style={notif.style} />\n                <label htmlFor=\"fullname\">Full name</label>\n                <input id=\"fullname\" type=\"text\" autoComplete=\"off\" name=\"fullname\" />\n                <hr />\n                <label htmlFor=\"account-number\">Account # (Randomly Generated)</label>\n                <input id=\"account-number\" name=\"accountNumber\" className=\"right\" value={initialAccountNumber} type=\"number\" disabled />\n\n                <label htmlFor=\"balance\">Initial balance</label>\n                <input id=\"balance\" type=\"text\" value={formatNumber(initialBalance)} onChange={onInitialBalance} name=\"initialBalance\" className=\"right\" />\n\n                <label htmlFor=\"account-type\">Account Type</label>\n                <select name=\"accountType\">\n                    <option value=\"Checking Account\">Checking Account</option>\n                    <option value=\"Savings Accounts\">Savings Account</option>\n                </select>\n                <hr />\n                <label htmlFor=\"email\">Email Address</label>\n                <input id=\"email\" type=\"email\" name=\"email\" />\n                <label htmlFor=\"password\">Password</label>\n                <input id=\"password\" type=\"password\" name=\"password\" />\n                <input value=\"Create Account\" className=\"btn\" type=\"submit\" />\n            </form>\n        </section>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}